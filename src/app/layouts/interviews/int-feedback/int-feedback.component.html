<div #modal data-target="#modal" class="intfbPopup">
    <div class="modal-header p-2">
        <h4 class="text-white" *ngIf="data.userType == 1">Interviewer Feedback</h4>
        <h4 class="text-white" *ngIf="data.userType == 2">Your Feedback</h4>
        <button aria-label="Close" class="close text-white sm-close-right" data-dismiss="modal"
            (click)="onModalDismiss(false)" type="button" style="right: -150px; outline: none;">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body" *ngIf="feedbackGiven == 2 || data.userType == 2">
        <div>
            <div class="col-lg-12">
                <form [formGroup]="intFeedbackForm">
                    <div class="row col-md-12 p-0">
                        <div class="row col-md-6 p-0 ml-2">
                            <label class="col-md-6 p-0">Analytical :</label>
                            <ngb-rating class="star-rating" formControlName="analytical" max="5"
                                [readonly]="feedbackGiven == 2 || data.userType == 1" [(rate)]="intFeedback.analytical">
                            </ngb-rating>
                        </div>
                        <div class="row col-md-6 p-0 ml-2">
                            <label class="col-md-6 p-0">Domain :</label>
                            <ngb-rating class="star-rating" formControlName="domain" max="5"
                                [readonly]="feedbackGiven == 2 || data.userType == 1" [(rate)]="intFeedback.domain">
                            </ngb-rating>
                        </div>
                    </div>
                    <div class="row col-md-12 p-0">
                        <div class="row col-md-6 p-0 ml-2">
                            <label class="col-md-6 p-0">Technical :</label>
                            <ngb-rating class="star-rating" formControlName="technical" max="5"
                                [readonly]="feedbackGiven == 2 || data.userType == 1" [(rate)]="intFeedback.technical">
                            </ngb-rating>
                        </div>
                        <div class="row col-md-6 p-0 ml-2">
                            <label class="col-md-6 p-0">Communication :</label>
                            <ngb-rating class="star-rating" formControlName="communication" max="5"
                                [readonly]="feedbackGiven == 2 || data.userType == 1"
                                [(rate)]="intFeedback.communication"></ngb-rating>
                        </div>
                    </div>
                    <div class="row col-md-12 p-0">
                        <div class="row col-md-6 p-0 ml-2">
                            <label class="col-md-6 p-0">Attitude :</label>
                            <ngb-rating class="star-rating" formControlName="attitude" max="5"
                                [readonly]="feedbackGiven == 2 || data.userType == 1" [(rate)]="intFeedback.attitude">
                            </ngb-rating>
                        </div>
                    </div>
                    
                    <div class="row col-md-12 p-0" *ngIf="feedbackGiven != 2">
                        <div class="col-md-12">
                            <div>
                                <label class="text-dark">Interviewed Skills:</label>
                                <div class="search-box position-relative">
                                    <ng-select style="width: 92%;" *ngIf="dataStorage.globalSkillsList" [selectOnTab]="true"
                                        formControlName="interviewedSkills"
                                        [items]="dataStorage.globalSkillsList" bindLabel="technologyDescription"
                                        bindValue="technologyId" [multiple]="true" id="txtSkills" class="left">
                                        <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                            <div class="ng-value" *ngFor="let item of items | slice:0:3">
                                                <span class="ng-value-label" title="{{item.technologyDescription}}">
                                                    {{item.technologyDescription}}
                                                    <!-- {{item.technologyDescription | slice:0:4}} -->
                                                    <!-- <span style="margin-left:-3px"
                                                        title="{{item.technologyDescription}}"
                                                        *ngIf="item.technologyDescription.length > 4">...</span> -->
                                                </span>

                                                <span class="ng-value-icon right" (click)="clear(item)"
                                                    aria-hidden="true">Ã—</span>
                                            </div>
                                            <div class="ng-value" *ngIf="items.length > 3">
                                                <span class="ng-value-label">{{items.length - 3}}
                                                    more...</span>
                                            </div>
                                        </ng-template>
                                    </ng-select>
                                    <!-- <button type="button"
                                        class="btn next-step m-0 search btn-sm">Search</button> -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row col-md-12 p-0 mt-4 mb-4" *ngIf="feedbackGiven == 2">
                        <div class=" col-md-12">
                            <label class="col-md-11 pl-0 pr-0 ">Interviewed Skills: </label>
                            <!-- <p class="col-md-8 feedback">{{interviewerFeedback.feedback}} </p> -->
                            <textarea class="col-md-11 feedback" formControlName="savedInterviewedSkills"
                                [readonly]="feedbackGiven == 2 || data.userType == 1"></textarea>
                        </div>
                    </div>

                    <div class="row col-md-12 p-0 mt-4 mb-4">
                        <div class=" col-md-12">
                            <label class="col-md-11 pl-0 pr-0 ">Feedback: </label>
                            <!-- <p class="col-md-8 feedback">{{interviewerFeedback.feedback}} </p> -->
                            <textarea class="col-md-11 feedback" formControlName="feedback"
                                [readonly]="feedbackGiven == 2 || data.userType == 1"></textarea>
                        </div>
                    </div>
                    <div class="row col-md-12 p-0">
                        <div class=" col-md-12">
                            <label class="col-md-11 pl-0 pr-0">Areas of Improvement: </label>
                            <!-- <p class="col-md-8 feedback">{{interviewerFeedback.areaOfImprovement}} </p> -->
                            <textarea class="col-md-11 feedback" formControlName="areaOfImprovement"
                                [readonly]="feedbackGiven == 2 || data.userType == 1"></textarea>
                        </div>
                    </div>

                    <div class="ri-row" *ngIf="feedbackGiven == 2 && UserType==1" style="width: 86%; margin-top: 20px; padding: 10px; border-radius: 10px; border: 1px solid #bfbfbf;">
                        <div class="flex1 ri-col" style="justify-content: center;">
                            <span style="font-weight: 500; padding-left: 10px;">Download Here:</span>
                        </div>
                        <div class="flex1 ri-row" style="justify-content: space-around;">
                            <div>
                                <img src="../../../../assets/images/rockinterview/interviews/download_av.png" (click)="downloadReport(intFeedback, 'audio')" style="height: 60px; width: 60px; cursor: pointer;">
                            </div>
                            <div>
                                <img src="../../../../assets/images/rockinterview/interviews/download_report.png" (click)="downloadReport(intFeedback, 'report')" style="height: 60px; width: 60px; cursor: pointer;">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-12 center-content row pl-0 mt-4" *ngIf="!(feedbackGiven == 2 || data.userType == 1)">
                <button class="btn btn-gradient btn-default" (click)="postFeedback()"
                    [disabled]="feedbackGiven == 2 || data.userType == 1">Submit Feedback</button>
            </div>
        </div>
    </div>
    <div class="modal-body" *ngIf="feedbackGiven != 2 && data.userType != 2">
        <div>
            <div style="margin-left:40%;">
                <img src="assets/images/rockinterview/no-feedback-int.png" width="40" />
            </div>
            <h6 class="pt-4" style="margin-left:12%;">Yet to receive feedback from the interviewer</h6>
        </div>
    </div>
</div>