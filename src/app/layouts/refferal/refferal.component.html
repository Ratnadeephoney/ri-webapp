<app-authorize-layout>
    <section class="register-page">
        <div class="container ml-2">
            <div class="row">
                <div class="col-lg-12">  
                    <div class="ri-row">
                        <div class="col-lg-9"><h3 style="color: black;">Reference</h3></div>
                        <div class="col-lg-3" style="padding-left:20px">
                            <button class="btn btn-default btn-gradient mt-1" style="padding: 10px 30px;"
                           (click)="openDailog()">Add People</button>
                    </div>
                        
                    </div>
                    <br>
                    <div class="ri-col">
                        <ngb-tabset #tabSet (tabChange)="onTabChange($event)">
                            <ngb-tab id="tFirst">
                                <ng-template ngbTabTitle>
                                
                                    <div>Ask For  Reference</div>
                                </ng-template>

                                <ng-template ngbTabContent>
                                    <div *ngIf="userList; else elseBlock"> 
                                    <!-- <div style="color: black; background-color: white;">Tab1 data</div> -->
                                    <div class="container my-4">
                                        <div *ngFor="let i of userList" class="m-1 filter-item">
                                        <div class="ri-row">
                                            
                                            <div class="col-lg-1">
                                                <div class="avatar-circle">
                                                    <span class="initials">{{i.intialName}}</span>
                                                </div>
                                            </div>


                                               <div class="col-lg-8">
                                                    <a style="font-size: 16px;  padding-left: 5px;">{{i.name}} </a>
                                                    <div><a style="padding-left: 5px;">{{i.role}}</a> </div>
                                                </div> 
                                               
                                                    <div [ngSwitch]="i.status" class="col-lg-3" >
                                                        <button *ngSwitchCase="'Request'" class= "ri-row-center ml-4 request"
                                                        style="padding: 5px; width: 120px; height: 35px;" (click)="getRequest(i.referenceId)">
                                                            {{i.status}}
                                                        </button>
                                                        <button *ngSwitchCase="'Requested'" class= "ri-row-center ml-4 requested"
                                                        style="padding: 5px; width: 120px; height: 35px;" [disabled]=true>
                                                            {{i.status}}
                                                        </button>
                                                        <button *ngSwitchCase="'View FeedBack'" class= "ri-row-center ml-4 btn btn-default btn-gradient mt-1"
                                                        style="padding: 5px; border-radius: 5px; width: 120px; height: 35px;" (click)="openViewFeedbackDailog(i.referenceId)">
                                                            {{i.status}}
                                                
                                                        </button>

                                                </div>
                                        </div>
                                        <hr/>
                                    </div> 
                                    
                                      </div>

                                    </div> 
                                    <ng-template #elseBlock >
                                        <div class="nodata justify-content-center" style="text-align: center;">
                                       <div>
                                           Add people to request for your Feedback.
                                        </div>
                                        <div>
                                           <button class="btnforadd" (click)="openDailog()"> <a class="btnadd">+</a></button>
                                         </div>
                                        <div>Add people</div>
                                    </div>
                                     </ng-template>
                                </ng-template>
                            </ngb-tab>
                            <ngb-tab id="tSecond">
                                <ng-template ngbTabTitle>
                                    <div>Referral  Request</div>
                                </ng-template>
                                <!-- tab 222222222222222222222222222222222222222222222222222222222222222222222222222222222222 -->
                                <ng-template ngbTabContent>
                                    <div *ngIf="userList; else elseBlock"> 
                                        <!-- <div style="color: black; background-color: white;">Tab1 data</div> -->
                                        <div class="container my-4">
                                            <div *ngFor="let i of userList" class="m-1 filter-item">
                                            <div class="ri-row">
                                                
                                                <div class="col-lg-1">
                                                    <div class="avatar-circle">
                                                        <span class="initials">{{i.intialName}}</span>
                                                    </div>
                                                </div>
                                                   <div class="col-lg-8">
                                                        <a style="font-size: 16px;  padding-left: 5px;">{{i.name}} </a>
                                                        <div><a style="padding-left: 5px;">{{i.role}}</a> </div>
                                                    </div> 
                                                    <div [ngSwitch]="i.feedBackStatus" class="col-lg-3" >
                                                        <button *ngSwitchCase="'Give FeedBack'" class= "ri-row-center ml-4 btn btn-default btn-gradient mt-1"
                                                        style="padding: 5px; border-radius: 5px; width: 120px; height: 35px;" (click)="openGiveFeedBackDailog(i.referenceId,i.intialName,i.name,i.role)">
                                                            Give Feedback
                                                        </button>
                                                        <button *ngSwitchCase="'View FeedBack'"class= "ri-row-center ml-4 btn btn-default btn-gradient mt-1"
                                                        style="padding: 5px; border-radius: 5px; width: 120px; height: 35px;" (click)="openViewFeedbackDailog(i.referenceId)">
                                                            View Feedback
                                                        </button>
                                                        <!--(click)="openViewFeedbackDailog(i.referenceId)"-->
                                                       
                                                        

                                                </div>
                                                   
                                                       
                                                </div>
                                            <hr/>
                                        </div>
                                          </div>
    
                                        </div> 
                                        <ng-template #elseBlock >
                                            <div class="nodata justify-content-center" style="text-align: center;">
                                           <div>
                                           No Referral Request
                                            </div>
                                        </div>
                                        <!-- <div style="color: black; background-color: white;">Tab2 data</div> -->
            
                                    </ng-template>
                                </ng-template>
                                </ngb-tab>
                            </ngb-tabset>
                       </div>
                       <!-- hi im writing -->
                       
    
                    </div>
                    
                </div>
            </div>
            
        </section>
    </app-authorize-layout> 